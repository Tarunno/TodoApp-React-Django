(this.webpackJsonpreact_learning=this.webpackJsonpreact_learning||[]).push([[0],{163:function(t,e,n){},164:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(56),c=n.n(r),i=n(3),l=n(4),s=n(6),u=n(5),d=n(18),p=n(1),h=n(37),f=n(7),m=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).getStyle=function(){return{fontSize:"13px",fontWeight:"bolder",padding:"10px",backgroundColor:"#f4f4f4",borderBottom:".01mm #85e69f dotted",color:t.props.todo.completed?"#949494":"black"}},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props.todo,n=e.id,o=(e.title,this.props);return a.a.createElement("div",{style:this.getStyle()},a.a.createElement("p",null,a.a.createElement("input",{style:v,type:"checkbox",onChange:this.props.markComplete.bind(this,n)})," "," ",this.props.todo.title,a.a.createElement("i",{style:b,className:"far fa-trash-alt",onClick:this.props.deleteTodo.bind(this,n)}),a.a.createElement("i",{style:g,onClick:function(){return o.EditTodo(t.props.todo)},className:"fas fa-edit"})))}}]),n}(o.Component),b={float:"right",color:"red",cursor:"pointer",marginLeft:"10px",marginRight:"20px"},g={float:"right",color:"#e0db34",cursor:"pointer"},v={marginLeft:"20px"},k=m,j=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return this.props.todos.map((function(e){return a.a.createElement(k,{key:e.id,todo:e,markComplete:t.props.markComplete,EditTodo:t.props.EditTodo,deleteTodo:t.props.deleteTodo})}))}}]),n}(o.Component),O=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:y},a.a.createElement("input",{value:this.props.inputValue.title,className:"task-input",onChange:this.props.handleChange,style:E,type:"text",name:"title",placeholder:"Add todo..."}),a.a.createElement("input",{onClick:this.props.handleSubmit,style:C,type:"submit",value:"Submit"}))}}]),n}(o.Component),y={display:"flex"},E={flex:"7",padding:"10px",border:"none"},C={flex:"2",padding:"10px",border:"none",cursor:"pointer"},T=O,x=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(i.a)(this,n),(o=e.call(this,t)).resetActiveItem=function(){o.setState({activeItem:{id:null,title:"",completed:!1},editing:!1})},o.fetchTask=function(){console.log("fetching tasks...");fetch("http://localhost:8000/todo/task-list/").then((function(t){return t.json()})).then((function(t){o.setState({todos:t}),console.log("Tasks fetched!")}))},o.handleChange=function(t){t.target.name;var e=t.target.value;o.setState({activeItem:Object(h.a)(Object(h.a)({},o.state.activeItem),{},{title:e})})},o.handleSubmit=function(){console.log("activeItem: ",o.state.activeItem);var t=o.getToken("csrftoken");if(!0===o.state.editing)var e="http://localhost:8000/todo/task-update/"+o.state.activeItem.id;else e="http://localhost:8000/todo/task-create/";fetch(e,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":t},body:JSON.stringify(o.state.activeItem)}).then((function(t){o.fetchTask(),o.resetActiveItem(),document.querySelector(".task-input").value=""})).catch((function(t){console.log("ERROR: ",t)}))},o.markComplete=function(t){console.log("markComplete"),fetch("http://localhost:8000/todo/task-completed/"+t).then((function(t){return t})).then((function(t){o.fetchTask()})).catch((function(t){console.log("ERROR: ",t)}))},o.deleteTodo=function(t){console.log("deleteTodo"),fetch("http://localhost:8000/todo/task-delete/"+t).then((function(t){return t})).then((function(t){o.fetchTask()})).catch((function(t){console.log("ERROR: ",t)}))},o.state={todos:[],activeItem:{id:null,title:"",completed:!1},editing:!1},o.fetchTask=o.fetchTask.bind(Object(f.a)(o)),o.handleChange=o.handleChange.bind(Object(f.a)(o)),o.handleSubmit=o.handleSubmit.bind(Object(f.a)(o)),o.resetActiveItem=o.resetActiveItem.bind(Object(f.a)(o)),o.getToken=o.getToken.bind(Object(f.a)(o)),o.EditTodo=o.EditTodo.bind(Object(f.a)(o)),o}return Object(l.a)(n,[{key:"getToken",value:function(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(a.substring(0,t.length+1)===t+"="){e=decodeURIComponent(a.substring(t.length+1));break}}return e}},{key:"componentWillMount",value:function(){this.fetchTask()}},{key:"EditTodo",value:function(t){console.log("EditTodo"),this.setState({activeItem:t,editing:!0})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(T,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,inputValue:this.state.activeItem}),a.a.createElement(j,{todos:this.state.todos,markComplete:this.markComplete,deleteTodo:this.deleteTodo,EditTodo:this.EditTodo}))}}]),n}(o.Component),S=n(57),I=n(13),R=n.n(I),A=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(i.a)(this,n),(o=e.call(this,t)).setData=function(){o.props.chartData.datasets[0].data[0]=o.props.stat[0],o.props.chartData.datasets[0].data[1]=o.props.stat[1],o.props.chartData.datasets[0].data[2]=o.props.stat[2]},o.setData=o.setData.bind(Object(f.a)(o)),o}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:w},this.setData(),a.a.createElement(S.Bar,{data:this.props.chartData,height:500,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1,legend:!1}}))}}]),n}(o.Component),w={width:"600px",margin:"20px auto"};A.propType={counter:R.a.object.isRequired};var D=A,B=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(i.a)(this,n),(o=e.call(this,t)).fetchStat=function(){console.log("fetching stat...");fetch("http://localhost:8000/todo/task-count/").then((function(t){return t.json()})).then((function(t){o.setState({stat:[t.count_task,t.count_completed,t.count_delete]})}))},o.resetCounter=function(){console.log("fetching stat...");fetch("http://localhost:8000/todo/task-count-reset/").then((function(t){return t.json()})).then((function(t){o.setState({stat:[0,0,0]})}))},o.state={chartData:{labels:["Total","Completed","Deleted"],datasets:[{data:[],backgroundColor:["#79aded","#8ef07f","#f07f7f"]}]},stat:[]},o.fetchStat=o.fetchStat.bind(Object(f.a)(o)),o}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.fetchStat()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("button",{style:N,type:"button",onClick:this.resetCounter}," Reset "),a.a.createElement(D,{chartData:this.state.chartData,stat:this.state.stat}))}}]),n}(o.Component),N={padding:"10px",backgroundColor:"#d92173",border:"none",color:"#ffffff",fontSize:"13px",cursor:"pointer",borderRadius:"2px",position:"absolute",top:"100px",left:"16px"},W=B,_=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:z},a.a.createElement("h2",null," Todo App "),a.a.createElement(d.b,{to:"/",style:M}," HOME "),a.a.createElement(d.b,{to:"/stat",style:M}," STATISTICS "))}}]),n}(o.Component),z={backgroundColor:"#1f1f1f",color:"#ffffff",padding:"18px",justifyContent:"center",textAlign:"center",borderBottom:"5px solid #85e69f"},M={color:"white",textDecoration:"none",padding:"2px",fontSize:"11px"},J=_,q=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:L},a.a.createElement("p",null,"Todo App | mahadi hasan tarunno"))}}]),n}(o.Component),L={position:"absolute",bottom:"0px",width:"100vw",fontSize:"11px",backgroundColor:"#1f1f1f",color:"#ffffff",padding:"12px",justifyContent:"center",textAlign:"center",borderTop:"5px solid #85e69f"},V=q,F=(n(163),function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement(d.a,null,a.a.createElement("div",{className:"App"},a.a.createElement(J,null),a.a.createElement(p.c,null,a.a.createElement(p.a,{path:"/",exact:!0,component:x}),a.a.createElement(p.a,{path:"/stat",component:W})),a.a.createElement(V,null)))}}]),n}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},59:function(t,e,n){t.exports=n(164)}},[[59,1,2]]]);
//# sourceMappingURL=main.4b87aa4e.chunk.js.map